<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"https:\/\/caiqing123.github.io\/",
  "author": {
    "@type": "Person",
    "name": "cql",
    
    "image": "https://www.gravatar.com/avatar/8326f93f7f0189da62a749745793e60a"
    
  },
  "name":"cql 博客",
  "description":"\u003cp\u003etypescript 学习笔记\u003c\/p\u003e",
  "url":"https:\/\/caiqing123.github.io\/post\/typescript\/",
  "keywords":"[typescript]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.90.0 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="cql">
<meta name="keywords" content="typescript">
<meta name="description" content="typescript 学习笔记">


<meta property="og:description" content="typescript 学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="typescript 笔记">
<meta name="twitter:title" content="typescript 笔记">
<meta property="og:url" content="https://caiqing123.github.io/post/typescript/">
<meta property="twitter:url" content="https://caiqing123.github.io/post/typescript/">
<meta property="og:site_name" content="cql 博客">
<meta property="og:description" content="typescript 学习笔记">
<meta name="twitter:description" content="typescript 学习笔记">
<meta property="og:locale" content="zh-cn">

  
    <meta property="article:published_time" content="2022-08-20T11:35:07">
  
  
    <meta property="article:modified_time" content="2022-08-20T11:35:07">
  
  
  
    
      <meta property="article:section" content="typescript">
    
  
  
    
      <meta property="article:tag" content="typescript">
    
  


<meta name="twitter:card" content="summary">







  <meta property="og:image" content="https://www.gravatar.com/avatar/8326f93f7f0189da62a749745793e60a?s=640">
  <meta property="twitter:image" content="https://www.gravatar.com/avatar/8326f93f7f0189da62a749745793e60a?s=640">






    <title>typescript 笔记</title>

    <link rel="icon" href="https://caiqing123.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://caiqing123.github.io/post/typescript/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="https://caiqing123.github.io/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
<script async src="https://www.googletagmanager.com/gtag/js?id=G-02NYWLD4XD"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-02NYWLD4XD');
</script>
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://caiqing123.github.io/" aria-label="去首页">cql 博客</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://caiqing123.github.io/#about" aria-label="打开链接: /#about">
    
    
    
      
        <img class="header-picture" src="https://www.gravatar.com/avatar/8326f93f7f0189da62a749745793e60a?s=90" alt="作者的图片" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://caiqing123.github.io/#about" aria-label="阅读有关作者的更多信息">
          <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/8326f93f7f0189da62a749745793e60a?s=110" alt="作者的图片" />
        </a>
        <h4 class="sidebar-profile-name">cql</h4>
        
          <h5 class="sidebar-profile-bio">cql 博客</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://caiqing123.github.io/" title="Home">
    
      <i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">首页</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://caiqing123.github.io/categories" title="Categories">
    
      <i class="sidebar-button-icon fas fa-lg fa-bookmark" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">分类</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://caiqing123.github.io/tags" title="Tags">
    
      <i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">标签</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://caiqing123.github.io/archives" title="Archives">
    
      <i class="sidebar-button-icon fas fa-lg fa-archive" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">归档</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://caiqing123.github.io/#about" title="About">
    
      <i class="sidebar-button-icon fas fa-lg fa-question" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">关于</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/caiqing123" target="_blank" rel="noopener" title="GitHub">
    
      <i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://caiqing123.github.io/index.xml" title="RSS">
    
      <i class="sidebar-button-icon fas fa-lg fa-rss" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      typescript 笔记
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2022-08-20T11:35:07&#43;08:00">
        
  八月 20, 2022

      </time>
    
    
  
  
    <span>发布在</span>
    
      <a class="category-link" href="https://caiqing123.github.io/categories/typescript">typescript</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              <p>typescript 学习笔记</p>
<h3 id="基本类型">基本类型</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Boolean
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">bol1</span>: <span style="color:#66d9ef">boolean</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * String
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">str2</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`bol: </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">true</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Number
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">num1</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">123</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Array
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">arr0</span><span style="color:#f92672">:</span> (<span style="color:#66d9ef">number</span><span style="color:#f92672">|</span><span style="color:#66d9ef">string</span>)[] <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2&#39;</span>];
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">arr2</span>: <span style="color:#66d9ef">Array</span>&lt;<span style="color:#f92672">string</span><span style="color:#960050;background-color:#1e0010">|</span><span style="color:#a6e22e">boolean</span><span style="color:#960050;background-color:#1e0010">|</span><span style="color:#a6e22e">number</span>&gt; <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#66d9ef">false</span>, <span style="color:#ae81ff">5</span>];

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Object
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj</span>: <span style="color:#66d9ef">object</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">1</span>, <span style="color:#a6e22e">b</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;a&#39;</span> };

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Tuple（元组）
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * 已知元素数量和类型且可重复的 数组
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tpl</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">number</span>, <span style="color:#66d9ef">boolean</span>, <span style="color:#66d9ef">boolean</span>] <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">2</span>, <span style="color:#66d9ef">true</span>, <span style="color:#66d9ef">true</span>];

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Enum（枚举）
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * 为一组 数值或字符串 指定别名（方便记忆）
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">enum</span> <span style="color:#a6e22e">Color</span> {
    <span style="color:#a6e22e">Red</span>,
    <span style="color:#a6e22e">Green</span>,
    <span style="color:#a6e22e">Blue</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>,
    <span style="color:#a6e22e">Pink</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;pink&#39;</span>,
};
<span style="color:#75715e">// 枚举属性是只读的，不支持修改
</span><span style="color:#75715e">// 访问枚举值 类似访问对象属性
</span><span style="color:#75715e">// 变量的类型限定为枚举时，变量的值只能是枚举成员之一
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">r</span>: <span style="color:#66d9ef">Color</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Color</span>.<span style="color:#a6e22e">Red</span>;   <span style="color:#75715e">// r === 0
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">g</span>: <span style="color:#66d9ef">Color</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Color</span>.<span style="color:#a6e22e">Green</span>; <span style="color:#75715e">// g === 1
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">b</span>: <span style="color:#66d9ef">Color</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Color</span>.<span style="color:#a6e22e">Blue</span>;  <span style="color:#75715e">// b === 4
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">p</span>: <span style="color:#66d9ef">Color</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Color</span>.<span style="color:#a6e22e">Pink</span>;  <span style="color:#75715e">// p === &#34;pink&#34;
</span><span style="color:#75715e">// 与对象的区别
</span><span style="color:#75715e"></span><span style="color:#66d9ef">enum</span> <span style="color:#a6e22e">EDirection</span> {
    <span style="color:#a6e22e">Up</span>,
    <span style="color:#a6e22e">Down</span>,
    <span style="color:#a6e22e">Left</span>,
    <span style="color:#a6e22e">Right</span>,
}
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ODirection</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">Up</span>: <span style="color:#66d9ef">0</span>,
    <span style="color:#a6e22e">Down</span>: <span style="color:#66d9ef">1</span>,
    <span style="color:#a6e22e">Left</span>: <span style="color:#66d9ef">2</span>,
    <span style="color:#a6e22e">Right</span>: <span style="color:#66d9ef">3</span>,
} <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">const</span>;

<span style="color:#75715e">// 枚举能直接应用类型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">run1</span>(<span style="color:#a6e22e">dir</span>: <span style="color:#66d9ef">EDirection</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {};

<span style="color:#a6e22e">run1</span>(<span style="color:#a6e22e">EDirection</span>.<span style="color:#a6e22e">Up</span>);

<span style="color:#75715e">// 对象（字面量）不具有类型，需要先申明类型再应用
</span><span style="color:#75715e">// (keyof typeof ODirection) 表示限制对象属性为 &#34;Up&#34; | &#34;Down&#34; | &#34;Left&#34; | &#34;Right&#34;
</span><span style="color:#75715e">// 枚举则默认存在这种机制
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Direction</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">ODirection</span>[<span style="color:#66d9ef">keyof</span> <span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">ODirection</span>];

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">run2</span>(<span style="color:#a6e22e">dir</span>: <span style="color:#66d9ef">Direction</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {};

<span style="color:#a6e22e">run2</span>(<span style="color:#a6e22e">ODirection</span>.<span style="color:#a6e22e">Up</span>);

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Any
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * 任意类型，会跳过类型检查
</span><span style="color:#75715e"> * 不指定类型默认为 any
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">anyVar</span>: <span style="color:#66d9ef">any</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">123</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">anyArr</span>: <span style="color:#66d9ef">any</span>[] <span style="color:#f92672">=</span> [ <span style="color:#66d9ef">true</span>, <span style="color:#ae81ff">123</span>, <span style="color:#e6db74">&#39;aaa&#39;</span> ];

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Void
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * 无任何类型，与 any 相反
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">voidFn</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {}
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">void1</span>: <span style="color:#66d9ef">void</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">undefined</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Undefined
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">u</span>: <span style="color:#66d9ef">undefined</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">undefined</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Null
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">n</span>: <span style="color:#66d9ef">null</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Unknown
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * 未知类型，相当于 any，但是不允许执行变量的方法（更安全）
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">uk</span>: <span style="color:#66d9ef">unknown</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abc&#39;</span>;
<span style="color:#75715e">// uk.toString(); // Error
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Never
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * 永不存在的值 的类型
</span><span style="color:#75715e"> */</span>
<span style="color:#75715e">// 例如抛出异常的函数，不能具有可访问的终结点
</span><span style="color:#75715e">// 因为抛出异常会终止函数执行，也就无法到达终点返回值了
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">err</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">never</span> {
    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Error(<span style="color:#e6db74">&#39;message&#39;</span>);
}

</code></pre></div><h3 id="接口">接口</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * 属性类型接口
</span><span style="color:#75715e"> */</span>
<span style="color:#75715e">// 限制某个对象的属性类型（这里是入参）
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn1</span>(<span style="color:#a6e22e">obj</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">str</span>: <span style="color:#66d9ef">string</span> })<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">str</span>;
}

<span style="color:#a6e22e">fn1</span>({ <span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;abc&#34;</span> });

<span style="color:#75715e">// 使用接口实现
</span><span style="color:#75715e"></span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IObj</span> {
    <span style="color:#a6e22e">str</span>: <span style="color:#66d9ef">string</span>;

    <span style="color:#75715e">// 不能包含具体实现
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// str2: string = &#39;abc&#39;; // Error
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// 属性可以是个复杂对象
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">aa</span><span style="color:#f92672">?:</span> {
        <span style="color:#a6e22e">ba</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">ca</span>: <span style="color:#66d9ef">string</span>;
        },
        <span style="color:#a6e22e">bb</span><span style="color:#f92672">:</span> [ <span style="color:#66d9ef">number</span>, <span style="color:#66d9ef">boolean</span> ];
    };

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * 可选属性
</span><span style="color:#75715e">     */</span>
    <span style="color:#a6e22e">num?</span>: <span style="color:#66d9ef">number</span>;

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * 只读属性，类似于 const 变量
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">readonly</span> <span style="color:#a6e22e">bol?</span>: <span style="color:#66d9ef">boolean</span>;

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * 索引签名 额外的属性
</span><span style="color:#75715e">     * &#39;string&#39;, &#39;number&#39;, &#39;symbol&#39;.
</span><span style="color:#75715e">     */</span>
    [<span style="color:#a6e22e">propName</span>: <span style="color:#66d9ef">string</span>]<span style="color:#f92672">:</span> <span style="color:#66d9ef">any</span>;
}

<span style="color:#75715e">// 应用接口类似于申明类型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn2</span>(<span style="color:#a6e22e">obj</span>: <span style="color:#66d9ef">IObj</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">str</span>;
}

<span style="color:#a6e22e">fn2</span>({
    <span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;abc&#34;</span>,
    <span style="color:#a6e22e">num</span>: <span style="color:#66d9ef">123</span>,
    <span style="color:#a6e22e">aa</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">ba</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">ca</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;a&#34;</span> },
        <span style="color:#a6e22e">bb</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">true</span>]
    },
});

<span style="color:#75715e">// 属性类型校验，应为 string
</span><span style="color:#75715e">// fn2({ str: 123 }); // Error
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 属性存在性校验，必须存在 str，不存在 abc
</span><span style="color:#75715e">// fn2({ abc: &#39;abc&#39; }); // Error
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj1</span>: <span style="color:#66d9ef">IObj</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;abc&#34;</span>, <span style="color:#a6e22e">bol</span>: <span style="color:#66d9ef">true</span> };

<span style="color:#75715e">// 修改只读属性会报错
</span><span style="color:#75715e">// obj1.bol = false; // Error
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 由于使用索引签名，传入额外的属性不会报错
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj2</span>: <span style="color:#66d9ef">IObj</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;abc&#34;</span>, <span style="color:#a6e22e">other</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;none&#34;</span> };


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 方法类型接口
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IMethod</span> {
    <span style="color:#a6e22e">fn1</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span>;
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fnObj</span>: <span style="color:#66d9ef">IMethod</span> <span style="color:#f92672">=</span> {
    <span style="color:#75715e">// 普通方法
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fn1</span>: <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;&#34;</span>;
    },

    <span style="color:#75715e">// 简写格式
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// fn1(arg: string) { return arg === &#39;&#39;; }
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// 箭头函数格式
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// fn1: (arg) =&gt; arg === &#39;&#39;,
</span><span style="color:#75715e"></span>};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 函数类型接口
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IFn</span> {
    <span style="color:#75715e">// 函数签名：
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// （参数：类型）：返回类型
</span><span style="color:#75715e"></span>    (<span style="color:#a6e22e">arg1</span>: <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">arg2</span>: <span style="color:#66d9ef">number</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span>;
}

<span style="color:#75715e">// 函数传参可以少于函数签名定义的参数，但不能异于，
</span><span style="color:#75715e">// 比如：arg1: number, arg3: boolean
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fn3</span>: <span style="color:#66d9ef">IFn</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">arg1</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg1</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#34;&#34;</span>;
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 索引类型接口
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IArr</span> {
    <span style="color:#75715e">// 索引签名：（参数类型只能为 number | string）
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// 表示用数字类型的索引访问时，会得到字符类型的值
</span><span style="color:#75715e"></span>    [<span style="color:#a6e22e">index</span>: <span style="color:#66d9ef">number</span>]<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span>;

    <span style="color:#75715e">// 访问字符类型索引时返回任意类型值，比如访问方法名
</span><span style="color:#75715e"></span>    [<span style="color:#a6e22e">prop</span>: <span style="color:#66d9ef">string</span>]<span style="color:#f92672">:</span> <span style="color:#66d9ef">any</span>;

    <span style="color:#75715e">// [] 中冒号前的单词（index, prop）可任意指定，
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 只用于阅读，类似于注释，ts 不作处理和判断
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">arr1</span>: <span style="color:#66d9ef">IArr</span> <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>];

<span style="color:#75715e">// 访问数字类型索引
</span><span style="color:#75715e"></span><span style="color:#a6e22e">arr1</span>[<span style="color:#ae81ff">0</span>]; <span style="color:#75715e">// &#39;a&#39;
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 访问字符类型索引
</span><span style="color:#75715e"></span><span style="color:#a6e22e">arr1</span>[<span style="color:#e6db74">&#34;length&#34;</span>]; <span style="color:#75715e">// 3
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * class 类型接口
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IPerson</span> {
    <span style="color:#75715e">// 描述类的公共属性，无法包含私有属性
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">firstName</span>: <span style="color:#66d9ef">string</span>;
    <span style="color:#a6e22e">lastName</span>: <span style="color:#66d9ef">string</span>;
    <span style="color:#a6e22e">age?</span>: <span style="color:#66d9ef">number</span>;
}

<span style="color:#75715e">// 实现接口的类
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">implements</span> <span style="color:#a6e22e">IPerson</span> {
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">firstName</span>: <span style="color:#66d9ef">string</span>;
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">lastName</span>: <span style="color:#66d9ef">string</span>;
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">age?</span>: <span style="color:#66d9ef">number</span>;

    <span style="color:#66d9ef">constructor</span>(<span style="color:#a6e22e">obj</span>: <span style="color:#66d9ef">IPerson</span>) {
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">firstName</span>;
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lastName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">lastName</span>;
        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">age</span>;
    }
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 接口继承
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IOne</span> {
    <span style="color:#a6e22e">attr1</span>: <span style="color:#66d9ef">string</span>;
}

<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">ITwo</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">IOne</span> {
    <span style="color:#a6e22e">attr2</span>: <span style="color:#66d9ef">number</span>;
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj3</span>: <span style="color:#66d9ef">ITwo</span> <span style="color:#f92672">=</span> {
    <span style="color:#75715e">// 少写任何一个都会报错
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">attr1</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;123&#34;</span>,
    <span style="color:#a6e22e">attr2</span>: <span style="color:#66d9ef">123</span>,
};

<span style="color:#75715e">// 继承多个接口
</span><span style="color:#75715e"></span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IThree</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">IOne</span>, <span style="color:#a6e22e">ITwo</span> {
    <span style="color:#a6e22e">attr3</span>: <span style="color:#66d9ef">boolean</span>;
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj4</span>: <span style="color:#66d9ef">IThree</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">attr1</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;123&#34;</span>,
    <span style="color:#a6e22e">attr2</span>: <span style="color:#66d9ef">123</span>,
    <span style="color:#a6e22e">attr3</span>: <span style="color:#66d9ef">true</span>,
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 混合类型的接口
</span><span style="color:#75715e"> */</span>

<span style="color:#75715e">// 同时声明多种类型，为复杂结构所使用
</span><span style="color:#75715e"></span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IMulti</span> {
    (<span style="color:#a6e22e">arg1</span>: <span style="color:#66d9ef">number</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span>;
    <span style="color:#a6e22e">attr1</span>: <span style="color:#66d9ef">string</span>;
    <span style="color:#a6e22e">fn1</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">number</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span>;
}

<span style="color:#75715e">// 函数类型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fn5</span>: <span style="color:#66d9ef">IMulti</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {};
<span style="color:#75715e">// 属性
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn5</span>.<span style="color:#a6e22e">attr1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;def&#34;</span>;
<span style="color:#75715e">// 方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn5</span>.<span style="color:#a6e22e">fn1</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">number</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">arg</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 接口继承类
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CSPub</span> {
    <span style="color:#75715e">// 公共属性
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">pub</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;aaa&#34;</span>;
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CSPri</span> {
    <span style="color:#75715e">// 私有属性
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">pri</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bbb&#34;</span>;

    <span style="color:#a6e22e">getPri</span><span style="color:#f92672">?</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">pri</span>;
    }
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CSPro</span> {
    <span style="color:#75715e">// 受保护属性
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">protected</span> <span style="color:#a6e22e">pro</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ccc&#34;</span>;
}

<span style="color:#75715e">// 接口会继承类的 所有成员（只有类型声明，不包含具体实现），
</span><span style="color:#75715e">// 即继承类的 公共，私有，受保护的成员
</span><span style="color:#75715e"></span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IClassPub</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">CSPub</span> {
    <span style="color:#a6e22e">attr1</span>: <span style="color:#66d9ef">string</span>;
}

<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IClassPri</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">CSPri</span> {
    <span style="color:#a6e22e">attr1</span>: <span style="color:#66d9ef">string</span>;
}

<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IClassPro</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">CSPro</span> {
    <span style="color:#a6e22e">attr1</span>: <span style="color:#66d9ef">string</span>;
}

<span style="color:#75715e">// 继承了只有公共成员的类的接口，可以被任意 其他类 实现
</span><span style="color:#75715e">// 通常用于复用类的约束
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CSI1</span> <span style="color:#66d9ef">implements</span> <span style="color:#a6e22e">IClassPub</span> {
    <span style="color:#a6e22e">pub</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;aaa&#34;</span>;
    <span style="color:#a6e22e">attr1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ddd&#34;</span>;
}

<span style="color:#75715e">// 具有私有成员或受保护成员的接口，只能由 继承类 实现
</span><span style="color:#75715e">// 通常用于拓展对类的子类的约束
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CSI2</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">CSPri</span>  <span style="color:#66d9ef">implements</span> <span style="color:#a6e22e">IClassPri</span> {
    <span style="color:#a6e22e">attr1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ddd&#34;</span>;
}
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CSI3</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">CSPro</span> <span style="color:#66d9ef">implements</span> <span style="color:#a6e22e">IClassPro</span> {
    <span style="color:#a6e22e">pro</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ccc&#34;</span>;
    <span style="color:#a6e22e">attr1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ddd&#34;</span>;
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 接口合并
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IMerge</span> {
    <span style="color:#a6e22e">str</span>: <span style="color:#66d9ef">string</span>;
}
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IMerge</span> {
    <span style="color:#a6e22e">num</span>: <span style="color:#66d9ef">number</span>;
}

<span style="color:#75715e">// 接口可以多次重复申明，引用时会取所有申明的 并集
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">mergeObj</span>: <span style="color:#66d9ef">IMerge</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;abc&#39;</span>,
    <span style="color:#a6e22e">num</span>: <span style="color:#66d9ef">123</span>,
};
</code></pre></div><h3 id="类">类</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * 申明类
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CS1</span> {
    <span style="color:#a6e22e">attr1</span>: <span style="color:#66d9ef">string</span>;                <span style="color:#75715e">// 不加成员修饰默认是公共（public）
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">attr2</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;    <span style="color:#75715e">// 公共属性（可以被派生类、实例对象访）
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">attr3</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;   <span style="color:#75715e">// 私有属性（只能自己访问）
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">protected</span> <span style="color:#a6e22e">attr4</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>; <span style="color:#75715e">// 受保护属性（只能被自己和派生类访问）
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">readonly</span> <span style="color:#a6e22e">attr5</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;  <span style="color:#75715e">// 只读属性（只能被当前类的构造函数修改）
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">static</span> <span style="color:#a6e22e">attr7</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;    <span style="color:#75715e">// 静态属性（只能直接通过类访问，实例和当前类 this 都访问不到）
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * 构造函数
</span><span style="color:#75715e">     *
</span><span style="color:#75715e">     * 具有 protected 构造函数的类，只能被派生类访问，不能实例化（不影响派生类是否能实例化）
</span><span style="color:#75715e">     * 具有 private   构造函数的类，既不能实例化，也不能被继承
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">constructor</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">attr6?</span>: <span style="color:#66d9ef">string</span>) {
        <span style="color:#75715e">/**
</span><span style="color:#75715e">         * 参数属性
</span><span style="color:#75715e">         *
</span><span style="color:#75715e">         * public attr6: string 称为 参数属性，用于同时定义并初始化一个指定成员，
</span><span style="color:#75715e">         * 通过在参数前添加成员修饰符形成，如 public, private, readonly，
</span><span style="color:#75715e">         * 功能等同于：
</span><span style="color:#75715e">         *
</span><span style="color:#75715e">         * attr6: string;
</span><span style="color:#75715e">         *
</span><span style="color:#75715e">         * constructor(attr6: string) {
</span><span style="color:#75715e">         *   this.attr6 = attr6;
</span><span style="color:#75715e">         * }
</span><span style="color:#75715e">         */</span>

        <span style="color:#75715e">// 获取所有属性
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr2</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr3</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr4</span>;

        <span style="color:#75715e">// 只读属性可以在该类中修改
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr5</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1&#34;</span>;
    }

    <span style="color:#75715e">// 方法不加修饰符也默认是 public
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">getAttr1</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
        <span style="color:#75715e">// 只读属性无法在该类的方法中修改
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// this.attr5 = &#39;2&#39;; // Error
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr1</span>;
    }

    <span style="color:#75715e">// 静态方法
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">static</span> <span style="color:#a6e22e">getStatic</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
        <span style="color:#75715e">// 无法访问当前类（this）的属性与方法
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// this.attr1; // Error
</span><span style="color:#75715e"></span>
        <span style="color:#75715e">// 静态属性只能通过该类直接访问（this 获取不到值）
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">CS1</span>.<span style="color:#a6e22e">attr7</span>;
    }
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 继承
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * 被继承类称为 父类，继承类称为 派生类
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CS2</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">CS1</span> {
    <span style="color:#66d9ef">constructor</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>) {
        <span style="color:#75715e">// 调用父类的 constructor 方法
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// 只要申明了构造函数，必须调用 super()
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// （不申明构造函数，则不影响该类的属性方法调用父类属性与方法）
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">super</span>(<span style="color:#a6e22e">arg</span>, <span style="color:#e6db74">&#34;&#34;</span>);

        <span style="color:#75715e">// 父类的只读属性不能被派生类修改
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// this.attr5 = &#39;1&#39;;
</span><span style="color:#75715e"></span>    }

    <span style="color:#75715e">// 甚至可以重写父类的方法（只有该类实例化后能访问到）
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">getAttr1</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr1</span>;
    }

    <span style="color:#a6e22e">getAttrs</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
        <span style="color:#75715e">// 获取父类的 公共、受保护成员（获取不到私有成员）
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr1</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr2</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr4</span>;
    }

    <span style="color:#a6e22e">getSuperAttr1</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
        <span style="color:#75715e">// 获取父类的方法
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getAttr1</span>();
    }
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 类的实例（实例化）
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cs1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">CS1</span>(<span style="color:#e6db74">&#34;aaa&#34;</span>, <span style="color:#e6db74">&#34;a&#34;</span>);

<span style="color:#75715e">// 实例只能访问公共属性与方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">cs1</span>.<span style="color:#a6e22e">attr1</span>;
<span style="color:#a6e22e">cs1</span>.<span style="color:#a6e22e">attr2</span>;
<span style="color:#a6e22e">cs1</span>.<span style="color:#a6e22e">attr5</span>;
<span style="color:#a6e22e">cs1</span>.<span style="color:#a6e22e">attr6</span>;
<span style="color:#a6e22e">cs1</span>.<span style="color:#a6e22e">getAttr1</span>();
<span style="color:#75715e">// 修改只读属性会报错
</span><span style="color:#75715e">// cs1.attr5 = &#39;1&#39;;
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 访问类的静态属性与方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">CS1</span>.<span style="color:#a6e22e">attr7</span>;
<span style="color:#a6e22e">CS1</span>.<span style="color:#a6e22e">getStatic</span>();

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cs2</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">CS2</span>(<span style="color:#e6db74">&#34;bbb&#34;</span>);

<span style="color:#75715e">// 派生类实例只能访问 父类的公共属性与方法、派生类的公共属性与方法
</span><span style="color:#75715e"></span><span style="color:#a6e22e">cs2</span>.<span style="color:#a6e22e">attr1</span>;
<span style="color:#a6e22e">cs2</span>.<span style="color:#a6e22e">attr2</span>;
<span style="color:#a6e22e">cs2</span>.<span style="color:#a6e22e">attr5</span>;
<span style="color:#a6e22e">cs2</span>.<span style="color:#a6e22e">attr6</span>;
<span style="color:#a6e22e">cs2</span>.<span style="color:#a6e22e">getAttr1</span>();
<span style="color:#a6e22e">cs2</span>.<span style="color:#a6e22e">getAttrs</span>();
<span style="color:#a6e22e">cs2</span>.<span style="color:#a6e22e">getSuperAttr1</span>();


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 实例的类型
</span><span style="color:#75715e"> */</span>

<span style="color:#75715e">// 表示 cs21 应是类 CS2 或其派生类的实例
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">cs21</span>: <span style="color:#66d9ef">CS1</span>;

<span style="color:#a6e22e">cs21</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">CS1</span>(<span style="color:#e6db74">&#39;1&#39;</span>);
<span style="color:#a6e22e">cs21</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">CS2</span>(<span style="color:#e6db74">&#39;1&#39;</span>);

<span style="color:#75715e">// 如果成为了其他类的实例会报错
</span><span style="color:#75715e">// class CS22 {}
</span><span style="color:#75715e">// cs21 = new CS22(); // Error
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 赋予其他值也会报错
</span><span style="color:#75715e">// cs21 = &#39;123&#39;; // Error
</span><span style="color:#75715e"></span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 抽象类
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * 用作其他派生类的基类，不能被直接 实例化
</span><span style="color:#75715e"> * 与接口的区别是，可以包含成员的 实现细节
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CS3</span> {
    <span style="color:#75715e">// 可以申明普通成员并初始化值，派生类中可直接访问
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">attr1</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;111&#34;</span>;

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * 抽象属性
</span><span style="color:#75715e">     *
</span><span style="color:#75715e">     * 必须在派生类中申明该属性，该基类中不会存在该属性
</span><span style="color:#75715e">     * 抽象属性也能和成员修饰符结合
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">abstract</span> <span style="color:#a6e22e">attr2</span>: <span style="color:#66d9ef">string</span>;
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">abstract</span> <span style="color:#a6e22e">attr3</span>: <span style="color:#66d9ef">string</span>;

    <span style="color:#75715e">// 抽象类也可以有构造函数
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">constructor</span>(<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">name?</span>: <span style="color:#66d9ef">string</span>) {}

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * 抽象方法
</span><span style="color:#75715e">     *
</span><span style="color:#75715e">     * 不能包含具体实现，但必须在派生类中实现
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">abstract</span> <span style="color:#a6e22e">fn1</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span>;

    <span style="color:#75715e">// 普通方法，可以包含具体实现
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">fn2</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr1</span>;
    }
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CS4</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">CS3</span> {
    <span style="color:#a6e22e">attr2</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
    <span style="color:#a6e22e">attr3</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;

    <span style="color:#a6e22e">fn1</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#f92672">!!</span><span style="color:#a6e22e">arg</span>;
    }
}

<span style="color:#75715e">// 抽象类的子类可以实例化
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cs4</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">CS4</span>();

<span style="color:#a6e22e">cs4</span>.<span style="color:#a6e22e">attr1</span>; <span style="color:#75715e">// &#34;111&#34;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">cs4</span>.<span style="color:#a6e22e">attr2</span>;
<span style="color:#a6e22e">cs4</span>.<span style="color:#a6e22e">fn1</span>(<span style="color:#e6db74">&#39;1&#39;</span>); <span style="color:#75715e">// true
</span><span style="color:#75715e"></span><span style="color:#a6e22e">cs4</span>.<span style="color:#a6e22e">fn2</span>(); <span style="color:#75715e">// &#34;111&#34;
</span><span style="color:#75715e"></span>
</code></pre></div><h3 id="函数">函数</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * 函数类型定义
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn5</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;&#34;</span>;
}

<span style="color:#75715e">// 匿名函数
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fn6</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;&#34;</span>;
};

<span style="color:#75715e">// 箭头函数
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn6</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;&#34;</span>;

<span style="color:#75715e">// 箭头式类型定义
</span><span style="color:#75715e">// 箭头前为参数类型，后为返回值类型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fn61</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">boolean</span>;
<span style="color:#a6e22e">fn61</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">arg</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>;


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 可选参数
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn7</span>(<span style="color:#a6e22e">arg1</span>: <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">arg2?</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg2</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">arg2</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">arg1</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;&#34;</span>;
}

<span style="color:#75715e">// 可选参数必须放到必输参数后面
</span><span style="color:#75715e">// function fn8(arg2?: string, arg1: string): boolean {
</span><span style="color:#75715e">//   return arg2 ? arg2 === &#34;&#34; : arg1 === &#34;&#34;;
</span><span style="color:#75715e">// }
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">fn7</span>(<span style="color:#e6db74">&#39;a&#39;</span>);
<span style="color:#a6e22e">fn7</span>(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>);
<span style="color:#75715e">// 参数多了会报错
</span><span style="color:#75715e">// fn7(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;);
</span><span style="color:#75715e"></span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 参数默认值
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 加默认值的参数会成为 可选参数
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn9</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abc&#39;</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;&#39;</span>;
}

<span style="color:#a6e22e">fn9</span>(); <span style="color:#75715e">// false
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn9</span>(<span style="color:#e6db74">&#39;&#39;</span>); <span style="color:#75715e">// true
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 默认值参数可以放到必输参数前面，但是必须传入 undefined 才能获取到默认值，不传报错
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn10</span>(<span style="color:#a6e22e">arg1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#a6e22e">arg2</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg1</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">arg2</span>;
}

<span style="color:#75715e">// fn10(&#39;&#39;); // Error
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn10</span>(<span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#e6db74">&#39;abc&#39;</span>); <span style="color:#75715e">// false
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn10</span>(<span style="color:#66d9ef">undefined</span>, <span style="color:#e6db74">&#39;abc&#39;</span>); <span style="color:#75715e">// true
</span><span style="color:#75715e"></span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 剩余参数
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 剩余的参数可以一个没有或多个，即被当成可选参数
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn11</span>(<span style="color:#a6e22e">arg1</span>: <span style="color:#66d9ef">string</span>, ...<span style="color:#a6e22e">args</span><span style="color:#f92672">:</span> (<span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>)[])<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg1</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">args</span>[<span style="color:#ae81ff">0</span>];
}

<span style="color:#a6e22e">fn11</span>(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#ae81ff">123</span>);
<span style="color:#a6e22e">fn11</span>(<span style="color:#e6db74">&#39;a&#39;</span>);


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 重载（overload）
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 函数根据传参的不同会有不同的返回类型
</span><span style="color:#75715e"> */</span>

<span style="color:#75715e">// 重载手段是为一个函数提供多个类型定义
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn12</span>(<span style="color:#a6e22e">x</span>: <span style="color:#66d9ef">number</span>[])<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn12</span>(<span style="color:#a6e22e">x</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn12</span>(<span style="color:#a6e22e">x</span>: <span style="color:#66d9ef">boolean</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">boolean</span>;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn12</span>(<span style="color:#a6e22e">x</span>: <span style="color:#66d9ef">any</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">any</span> {
  <span style="color:#75715e">// 上面一行只是函数的实现签名，为了兼容上面两个重载签名，不能被直接调用，
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 同时它也并不算作一个重载，真正的重载签名只有最上面的三个
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;object&#39;</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span>[<span style="color:#ae81ff">0</span>];
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span>;
  }
}

<span style="color:#75715e">// 都能通过类型检查
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn12</span>([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]);
<span style="color:#a6e22e">fn12</span>(<span style="color:#e6db74">&#39;abc&#39;</span>);

<span style="color:#75715e">// 没在重载定义中的类型会报错
</span><span style="color:#75715e">// fn12(undefined); // Error
</span><span style="color:#75715e"></span>
</code></pre></div><h3 id="泛型">泛型</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">// 函数返回类型与传参类型一致
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn13</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">number</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span>;
}

<span style="color:#a6e22e">fn13</span>(<span style="color:#ae81ff">123</span>);

<span style="color:#75715e">// 如果传参支持多种类型，就需要写多个重载定义，如果使用 any，
</span><span style="color:#75715e">// 虽然能包含所有情况，但不能保证参数和返回值类型一致；
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn14</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">any</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">any</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&#39;</span>;
}

<span style="color:#a6e22e">fn14</span>(<span style="color:#ae81ff">123</span>);
<span style="color:#a6e22e">fn14</span>(<span style="color:#e6db74">&#39;abc&#39;</span>);


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 类型变量
</span><span style="color:#75715e"> */</span>

<span style="color:#75715e">// 使用 类型变量 可以解决这个问题
</span><span style="color:#75715e">// 变量 T 用于捕获并存储用户传入的类型
</span><span style="color:#75715e">// 这里的函数 fn15 便是泛型（泛型函数），即适用于多个类型的函数
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn15</span>&lt;<span style="color:#f92672">T</span>&gt;(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">T</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span>;
}

<span style="color:#75715e">// 使用泛型时在类型变量的位置传入类型值
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn15</span>&lt;<span style="color:#f92672">number</span>&gt;(<span style="color:#ae81ff">123</span>);

<span style="color:#75715e">// 通常是使用时省略，直接利用编译器的 类型推断 来判断类型
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn15</span>(<span style="color:#e6db74">&#39;abc&#39;</span>);

<span style="color:#75715e">// 但是一些复杂类型情况下，编译器可能不能自动推断出类型，
</span><span style="color:#75715e">// 这时就任然需要使用 &lt;&gt; 来指定类型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IObj2</span> {
  <span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">number</span>;
  <span style="color:#a6e22e">b</span>: <span style="color:#66d9ef">string</span>;
};

<span style="color:#a6e22e">fn15</span>&lt;<span style="color:#f92672">IObj2</span>&gt;({ <span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">123</span>, <span style="color:#a6e22e">b</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;abc&#39;</span> });


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 使用
</span><span style="color:#75715e"> */</span>

<span style="color:#75715e">// 由于 T 表示任意类型，所以不能直接访问某些属性
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn16</span>&lt;<span style="color:#f92672">T</span>&gt;(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">T</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span> {
  <span style="color:#75715e">// return arg.toString(); // Error
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span>
}

<span style="color:#75715e">// 如果是复合类型，则可以使用某些固有属性
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn17</span>&lt;<span style="color:#f92672">T</span>&gt;(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">T</span>[])<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span>.<span style="color:#a6e22e">toString</span>();
}

<span style="color:#75715e">// 类型变量可以使用其他字母或者单词（通常使用 T）
</span><span style="color:#75715e">// 也可以存在多个变量
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn18</span>&lt;<span style="color:#f92672">M</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">My</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">other</span>&gt;(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">M</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">M</span> {
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">one</span>: <span style="color:#66d9ef">My</span>;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">two</span>: <span style="color:#66d9ef">other</span>;

  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span>;
}

<span style="color:#75715e">// 存在多个类型变量时依次指定
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fn18</span>&lt;<span style="color:#f92672">string</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">number</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">boolean</span>&gt;(<span style="color:#e6db74">&#39;abc&#39;</span>);


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 泛型接口
</span><span style="color:#75715e"> */</span>

<span style="color:#75715e">// 接口里的泛型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IGeneric</span> {
  &lt;<span style="color:#f92672">T</span>&gt;(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">T</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span>;
}

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fn19</span>: <span style="color:#66d9ef">IGeneric</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">arg</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span>;

  <span style="color:#75715e">// 和接口申明不一致会报错
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// return arg + &#39;&#39;;
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// 针对整个接口的泛型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IGeneric2</span>&lt;<span style="color:#f92672">T</span>&gt; {
  <span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">T</span>;
  <span style="color:#a6e22e">b</span>: <span style="color:#66d9ef">T</span>[];
  <span style="color:#a6e22e">c</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">T</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span>;
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj5</span>: <span style="color:#66d9ef">IGeneric2</span>&lt;<span style="color:#f92672">number</span>&gt; <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">123</span>,
  <span style="color:#a6e22e">b</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>],
  <span style="color:#a6e22e">c</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">arg</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
};


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 泛型类
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CS5</span>&lt;<span style="color:#f92672">T</span>&gt; {
  <span style="color:#66d9ef">constructor</span>(<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">attr</span>: <span style="color:#66d9ef">T</span>) {}

  <span style="color:#a6e22e">fn</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">attr</span>;
  }

  <span style="color:#75715e">// 静态成员不能使用泛型类型
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// static a: T = &#39;&#39;;
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cs5</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">CS5</span>&lt;<span style="color:#f92672">number</span>&gt;(<span style="color:#ae81ff">123</span>);

<span style="color:#a6e22e">cs5</span>.<span style="color:#a6e22e">fn</span>(); <span style="color:#75715e">// 123
</span><span style="color:#75715e"></span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 泛型约束
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 需要约束泛型具有某些属性，可以 extends 指定接口
</span><span style="color:#75715e"> */</span>

<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IObj3</span> {
  <span style="color:#a6e22e">length</span>: <span style="color:#66d9ef">number</span>; <span style="color:#75715e">// 约束为具有 length 属性的任意类型
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn20</span>&lt;<span style="color:#f92672">T</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">IObj3</span>&gt;(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">T</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span>.<span style="color:#a6e22e">length</span>;
}

<span style="color:#a6e22e">fn20</span>(<span style="color:#e6db74">&#39;abc&#39;</span>); <span style="color:#75715e">// 3
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 报错，因为数字没有 length 属性
</span><span style="color:#75715e">// fn20(123); // Error
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 泛型约束中使用类型参数
</span><span style="color:#75715e">// 表示第二个参数需要是第一个参数对象的属性
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn21</span>&lt;<span style="color:#f92672">T</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">K</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">keyof</span> <span style="color:#a6e22e">T</span>&gt;(<span style="color:#a6e22e">obj</span>: <span style="color:#66d9ef">T</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">K</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">obj</span>[<span style="color:#a6e22e">key</span>];
}

<span style="color:#a6e22e">fn21</span>({ <span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">1</span> }, <span style="color:#e6db74">&#39;a&#39;</span>);

<span style="color:#75715e">// b 不是第一个参数对象的属性
</span><span style="color:#75715e">// fn21({ a: 1 }, &#39;b&#39;); // Error
</span><span style="color:#75715e"></span>
</code></pre></div><h3 id="高级类型">高级类型</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts">
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 交叉类型
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 多个类型合并为一个类型，合并类型需同时满足多种类型
</span><span style="color:#75715e"> * 类似类型的 与（&amp;）运算
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IStr</span> {
  <span style="color:#a6e22e">str</span>: <span style="color:#66d9ef">string</span>,
}

<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">INum</span> {
  <span style="color:#a6e22e">num</span>: <span style="color:#66d9ef">number</span>,
}

<span style="color:#75715e">// 合并后的交叉类型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">StrAndNumType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">IStr</span> <span style="color:#f92672">&amp;</span> <span style="color:#a6e22e">INum</span>;

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj6</span>: <span style="color:#66d9ef">StrAndNumType</span> <span style="color:#f92672">=</span> {
  <span style="color:#75715e">// 缺少属性会报错
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;abc&#39;</span>,
  <span style="color:#a6e22e">num</span>: <span style="color:#66d9ef">123</span>,

  <span style="color:#75715e">// 多余属性也会报错
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// bol: true,
</span><span style="color:#75715e"></span>};


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 联合类型
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 类似类型的 或（|）运算，需至少满足多种类型的一种
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">StrOrNumType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">IStr</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">INum</span>;

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">strOrNum</span>: <span style="color:#66d9ef">StrOrNumType</span>;

<span style="color:#75715e">// 满足联合类型中任意一种 即可通过
</span><span style="color:#75715e"></span><span style="color:#a6e22e">strOrNum</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;abc&#39;</span> };
<span style="color:#a6e22e">strOrNum</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">num</span>: <span style="color:#66d9ef">123</span> };


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 类型守卫
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 在运行时 检查以确保某个作用域类型 的表达式
</span><span style="color:#75715e"> */</span>

<span style="color:#75715e">// 如果函数入参是联合类型，那么内部访问该参数时，用任意一种类型访问参数都会报错，
</span><span style="color:#75715e">// 因为 ts 判断联合类型时只要有一个类型不满足，就不会通过，所以导致每个都不通过；
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn22</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>[])<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span> {
  <span style="color:#75715e">// if (arg &gt; 0) {
</span><span style="color:#75715e"></span>  <span style="color:#75715e">//   return arg + 1; // Error
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// } else if ( arg.length &gt; 0) { // Error
</span><span style="color:#75715e"></span>  <span style="color:#75715e">//   return arg.pop(); // Error
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// } else {
</span><span style="color:#75715e"></span>  <span style="color:#75715e">//   return 0;
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// }
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// 为了避免这种情况的报错，需要使用 类型断言
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">arg</span> <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">number</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span> <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">number</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;

  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> ( (&lt;<span style="color:#f92672">number</span><span style="color:#960050;background-color:#1e0010">[]</span>&gt;<span style="color:#a6e22e">arg</span>).<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
    <span style="color:#66d9ef">return</span> (&lt;<span style="color:#f92672">number</span><span style="color:#960050;background-color:#1e0010">[]</span>&gt;<span style="color:#a6e22e">arg</span>).<span style="color:#a6e22e">pop</span>() <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">number</span>;

  } <span style="color:#66d9ef">else</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
  }
}

<span style="color:#75715e">// 由于多次书写类型断言很麻烦，所以 ts 出现了 类型守卫 的机制:
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * typeof 类型守卫：
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn23</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>[])<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span> {
  <span style="color:#75715e">// ts 会识别 typeof 语句，并将当前 if 区块中的 arg 都当成 number，
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 类似于加上了隐式的类型断言
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;number&#39;</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
  
  <span style="color:#75715e">// 其他 if 区块也能识别为指定类型
</span><span style="color:#75715e"></span>  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;object&#39;</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">arg</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span>.<span style="color:#a6e22e">pop</span>() <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">number</span>;
  
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
  }
}

<span style="color:#75715e">/** 
</span><span style="color:#75715e"> * truthiness 类型守卫
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn24</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">number</span>[] <span style="color:#f92672">|</span> <span style="color:#66d9ef">null</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;object&#39;</span>) {
    <span style="color:#75715e">// 不能直接使用数组的特性，即使使用了 typeof，因为 null 也是 &#39;object&#39; 类型，
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 并且 null 不能使用 for...of...
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// for (let i of arg) { i; } // Error
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// 使用 truthiness 类型守卫可以进一步限制变量为 数组类型，
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// !!arg 或者 Boolean() 等涉及布尔运算的操作都能触发这种类型守卫；
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">arg</span>) {
      <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">arg</span>) { <span style="color:#a6e22e">i</span>; }
    }
  }
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 等式类型守卫
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn25</span>(<span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>, <span style="color:#a6e22e">b</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">boolean</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
  <span style="color:#75715e">// 直接使用参数的方法会报错，因为可能是 number 类型
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// a.toUpperCase(); // Error
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// b.toUpperCase(); // Error
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// 使用了等式判断后，ts 会自动取二者的交集类型，即 string，就可以正常调用方法了，
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 也可以使用类似 a === null 的直接与基本类型对比的判断触发类型守卫；
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">a</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">b</span>) {
    <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">toUpperCase</span>();
    <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">toUpperCase</span>();
  }
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * instanceof 类型守卫
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn26</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">Number</span> <span style="color:#f92672">|</span> String)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
  <span style="color:#75715e">//（x instanceof y) 用于检查 x 的原型链中是否包含 y.prototype
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// 直接调用方法会报错，Number 类型不存在该方法
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// arg.toUpperCase(); // Error
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// instanceof 表达式会触发类型守卫，限制 arg 为 String 类型
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">arg</span> <span style="color:#66d9ef">instanceof</span> String) {
    <span style="color:#a6e22e">arg</span>.<span style="color:#a6e22e">toUpperCase</span>();
  }
}

<span style="color:#a6e22e">fn26</span>(<span style="color:#e6db74">&#39;abc&#39;</span>);
<span style="color:#75715e">// fn26(true); // Error
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 自定义类型守卫
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 首先自定义一个函数来判断参数类型，返回值类型具有固定格式：
</span><span style="color:#75715e"> * param is type
</span><span style="color:#75715e"> * 其中 param 必须是参数，type 是类型
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">isStr</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">arg</span> <span style="color:#66d9ef">is</span> <span style="color:#66d9ef">string</span> {
  <span style="color:#75715e">// 内部可以使用其他 类型守卫
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">arg</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;string&#39;</span>;

  <span style="color:#75715e">// 也可以直接使用类型断言
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// return (arg as string).toUpperCase !== undefined;
</span><span style="color:#75715e"></span>}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fn27</span>(<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
  <span style="color:#75715e">// 像使用其他类型守卫一样引用 自定义函数，触发类型守卫
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isStr</span>(<span style="color:#a6e22e">arg</span>)) {
    <span style="color:#a6e22e">arg</span>.<span style="color:#a6e22e">toUpperCase</span>();
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">arg</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>;
  }
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 类型别名
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 为一些基本类型或复杂类型定义一个别名
</span><span style="color:#75715e"> */</span>

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">MyString</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">string</span>;
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">StrOrNum</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>;
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">StrAndNum</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">string</span> <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">number</span>;
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">callback</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">string</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">boolean</span>

<span style="color:#75715e">// 像使用基本类型一样使用类型别名
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">myString</span>: <span style="color:#66d9ef">MyString</span>;

<span style="color:#75715e">// 类型别名可以是 泛型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">TypeArr</span>&lt;<span style="color:#f92672">T</span>&gt; <span style="color:#f92672">=</span> <span style="color:#a6e22e">T</span>[];
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">strArr</span>: <span style="color:#66d9ef">TypeArr</span>&lt;<span style="color:#f92672">string</span>&gt; <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>];

<span style="color:#75715e">// 类型别名可以 自己引用自己（嵌套）
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">NestObj</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">str</span>: <span style="color:#66d9ef">string</span>,
  <span style="color:#a6e22e">obj?</span>: <span style="color:#66d9ef">NestObj</span>,
}
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">nestObj</span>: <span style="color:#66d9ef">NestObj</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;abc&#39;</span>,
  <span style="color:#a6e22e">obj</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;def&#39;</span> },
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 字面量类型
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 使用该类型的变量值需要等于字面值
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">OneOrTwo</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;one&#39;</span> <span style="color:#f92672">|</span> <span style="color:#e6db74">&#39;two&#39;</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">true</span>;

<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">num</span>: <span style="color:#66d9ef">OneOrTwo</span>;

<span style="color:#a6e22e">num</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;one&#39;</span>;
<span style="color:#a6e22e">num</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;two&#39;</span>;
<span style="color:#a6e22e">num</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
<span style="color:#a6e22e">num</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;

<span style="color:#75715e">// 取类型中不存在的值会报错
</span><span style="color:#75715e">// num = &#39;three&#39;; // Error
</span><span style="color:#75715e"></span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 可辨识联合（Discriminated Union）
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 当联合类型中的每一个类型，都包含一个为字面量类型的共有属性时，
</span><span style="color:#75715e"> * ts 将会把这个联合类型识别为 可辨识联合
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Square</span> {
  <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;square&#34;</span>;
  <span style="color:#a6e22e">size</span>: <span style="color:#66d9ef">number</span>;
}
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Circle</span> {
  <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;circle&#34;</span>;
  <span style="color:#a6e22e">radius</span>: <span style="color:#66d9ef">number</span>;
}

<span style="color:#75715e">// 该联合类型每个接口类型都含有 kind 属性，并且是字符串字面量类型，
</span><span style="color:#75715e">// kind 被称为可辨识联合 Shape 的 可辨识特征（Discriminant）
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Shape</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Square</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">Circle</span>;

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">area</span>(<span style="color:#a6e22e">s</span>: <span style="color:#66d9ef">Shape</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span> {
  <span style="color:#75715e">// 直接访问会提示 Circle 没有 size 属性
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// return s.size ** 2; // Error
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// 使用 switch 或者 if 判断 kind 属性后，ts 会自动限制为指定类型
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">kind</span>) {
    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;square&#34;</span><span style="color:#f92672">:</span>
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">size</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>;

    <span style="color:#75715e">// 但是仍然存在一个问题，漏写判断时 ts 并不会提示
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// case &#34;circle&#34;:
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//   return Math.PI * s.radius ** 2;
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
      <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
  }
}

<span style="color:#75715e">// 解决提示漏写 case 的问题，可以利用 ts 类型守卫的特性，
</span><span style="color:#75715e">// 即代码中判断了所有联合类型的可能性之后，该联合类型会被限制为 never 类型，
</span><span style="color:#75715e">// 所以在最后尝试将联合类型赋值给一个 never 类型，如果报错就说明还有情况没有判断到；
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">area2</span>(<span style="color:#a6e22e">s</span>: <span style="color:#66d9ef">Shape</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span> {
  <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">kind</span>) {
    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;square&#39;</span><span style="color:#f92672">:</span>
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">size</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>;

    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;circle&#34;</span><span style="color:#f92672">:</span>
      <span style="color:#66d9ef">return</span> Math.<span style="color:#a6e22e">PI</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">radius</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>;

    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
      <span style="color:#75715e">// 如果上面的 case 漏写一个，下面就会报错，
</span><span style="color:#75715e"></span>      <span style="color:#75715e">// 提示 不能将 xxx 分配给 never；
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">result</span>: <span style="color:#66d9ef">never</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">s</span>;
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>;
  }
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 索引类型
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IObj4</span> {
  <span style="color:#a6e22e">name</span>: <span style="color:#66d9ef">string</span>,
  <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">number</span>,
}

<span style="color:#75715e">// keyof 为索引查询操作符，表示类型是接口所有属性的 联合类型
</span><span style="color:#75715e">// 等价于：
</span><span style="color:#75715e">// type Key4 = &#39;name&#39; | &#39;age&#39;;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Key1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">IObj4</span>;
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">key1</span>: <span style="color:#66d9ef">Key1</span>;

<span style="color:#a6e22e">key1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;name&#39;</span>;
<span style="color:#a6e22e">key1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;age&#39;</span>;
<span style="color:#75715e">// key4 = &#39;hobby&#39;; // Error
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 或者获取普通对象的类型的索引
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">obj7</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">0</span> };
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Key2</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">keyof</span> <span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">obj7</span>;
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">key2</span>: <span style="color:#66d9ef">Key2</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;name&#39;</span>;


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 映射类型
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 将类型中每个属性进行映射转变，类似数组的 map 方法
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IObj5</span> {
  <span style="color:#a6e22e">name</span>: <span style="color:#66d9ef">string</span>;
  <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">number</span>;
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Map1</span> <span style="color:#f92672">=</span> {
  <span style="color:#75715e">// 为接口中每个属性添加 只读与可选 标识
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">readonly</span> [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">IObj5</span>]<span style="color:#f92672">?:</span> <span style="color:#a6e22e">IObj5</span>[<span style="color:#a6e22e">K</span>];

  <span style="color:#75715e">// 无法新增额外的属性
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// hobby: string; // Error
</span><span style="color:#75715e"></span>};

<span style="color:#75715e">// 等同于：
</span><span style="color:#75715e">// type Map1 = {
</span><span style="color:#75715e">//     readonly name?: string;
</span><span style="color:#75715e">//     readonly age?: number;
</span><span style="color:#75715e">// }
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 也可以写一个通用的转变泛型
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">TMap2</span>&lt;<span style="color:#f92672">T</span>&gt; <span style="color:#f92672">=</span> {
  <span style="color:#66d9ef">readonly</span> [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">T</span>]<span style="color:#f92672">?:</span> <span style="color:#a6e22e">T</span>[<span style="color:#a6e22e">K</span>];
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Map2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">TMap2</span>&lt;<span style="color:#f92672">IObj5</span>&gt;;

<span style="color:#75715e">// ts 也内置了一些条件类型，如：
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Readonly - 属性全转换为只读：
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Map3</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Readonly</span><span style="color:#f92672">&lt;</span>{ <span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">string</span> }<span style="color:#f92672">&gt;</span>; <span style="color:#75715e">// { readonly a: string }
</span><span style="color:#75715e"></span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Partial - 属性全转换为可选：
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Map4</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Partial</span><span style="color:#f92672">&lt;</span>{ <span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">string</span> }<span style="color:#f92672">&gt;</span>; <span style="color:#75715e">// { a?: string | undefined }
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Pick - 属性拷贝
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Map5</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Pick</span><span style="color:#f92672">&lt;</span>{ <span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">string</span>; <span style="color:#a6e22e">b</span>: <span style="color:#66d9ef">number</span> }, <span style="color:#e6db74">&#39;a&#39;</span><span style="color:#f92672">&gt;</span>; <span style="color:#75715e">// { a: string }
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Exclude&lt;T, U&gt; - 从 T 中剔除可以赋值给 U 的类型
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Map6</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Exclude</span><span style="color:#f92672">&lt;</span><span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">|</span> <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span><span style="color:#f92672">&gt;</span>; <span style="color:#75715e">// &#39;a&#39;
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Extract&lt;T, U&gt; - 从 T 中提取可以赋值给 U 的类型
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Map7</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Extract</span><span style="color:#f92672">&lt;</span><span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">|</span> <span style="color:#e6db74">&#39;b&#39;</span> <span style="color:#f92672">|</span> <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">|</span> <span style="color:#e6db74">&#39;b&#39;</span><span style="color:#f92672">&gt;</span>; <span style="color:#75715e">// &#39;a&#39; | &#39;b&#39;
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * NonNullable&lt;T&gt; - 从 T 中剔除 null 和 undefined
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Map8</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">NonNullable</span><span style="color:#f92672">&lt;</span><span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">undefined</span><span style="color:#f92672">&gt;</span>; <span style="color:#75715e">// &#39;a&#39;
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/**
</span><span style="color:#75715e"> * ReturnType&lt;T&gt; - 获取函数返回值的类型
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Map9</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ReturnType</span><span style="color:#f92672">&lt;</span>() <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">string</span><span style="color:#f92672">&gt;</span>; <span style="color:#75715e">// string
</span><span style="color:#75715e"></span>
</code></pre></div><h3 id="装饰器">装饰器</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">/************************************************************
</span><span style="color:#75715e"> * 装饰器
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * 用于标注或修改类及其成员，是一种特殊类型声明，
</span><span style="color:#75715e"> * 支持被附加到类声明、方法、访问符、属性或参数上
</span><span style="color:#75715e"> ************************************************************/</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 基本使用
</span><span style="color:#75715e"> */</span>

<span style="color:#75715e">// 声明装饰器函数：
</span><span style="color:#75715e">// 函数一共接收三个参数：
</span><span style="color:#75715e">// 1. 装饰器所装饰的目标（target）；
</span><span style="color:#75715e">// 2. 装饰目标的属性名（key）；
</span><span style="color:#75715e">// 3. 装饰目标的属性描述值（descriptor）；
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decBasic</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">descriptor</span>: <span style="color:#66d9ef">object</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;decorator&#39;</span>);
}

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;=============== Basic ===============&#39;</span>);

<span style="color:#75715e">// 使用装饰器，直接写在装饰目标的上方，
</span><span style="color:#75715e">// 这里装饰目标是类的 getNum 方法；
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DecBasicCS</span> {
  <span style="color:#66d9ef">@decBasic</span>
  <span style="color:#a6e22e">getNum</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;class&#39;</span>);
  }
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">decBasicCS</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">DecBasicCS</span>();
<span style="color:#a6e22e">decBasicCS</span>.<span style="color:#a6e22e">getNum</span>();
<span style="color:#75715e">// &#34;decorator&#34;
</span><span style="color:#75715e">// &#34;class&#34;
</span><span style="color:#75715e"></span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 装饰器工厂
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 可自定义如何装饰一个目标（允许为装饰器传参）
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decFactory</span>(<span style="color:#a6e22e">str</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;add&#39;</span> <span style="color:#f92672">|</span> <span style="color:#e6db74">&#39;plus&#39;</span>) {
  <span style="color:#75715e">// 这里可写自定义装饰逻辑
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">returnFn</span>;

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">str</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;add&#39;</span>) {
    <span style="color:#75715e">// 装饰器工厂函数最后需要返回一个装饰器函数
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">returnFn</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;add&#39;</span>);
    }
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">returnFn</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;plus&#39;</span>);
    }
  }

  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">returnFn</span>;
}

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;=============== Factory ===============&#39;</span>);

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DecFactoryCS</span> {
  <span style="color:#75715e">// 装饰器工厂函数可以像普通函数一样传参执行（运行时执行）
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decFactory</span>(<span style="color:#e6db74">&#39;add&#39;</span>)
  <span style="color:#a6e22e">useAdd</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {}
  
  <span style="color:#75715e">// 使用不同参数针对不同装饰目标，或使用不同装饰逻辑
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decFactory</span>(<span style="color:#e6db74">&#34;plus&#34;</span>)
  <span style="color:#a6e22e">usePlus</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {}
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">decFactoryCS</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">DecFactoryCS</span>();
<span style="color:#a6e22e">decFactoryCS</span>.<span style="color:#a6e22e">useAdd</span>(); <span style="color:#75715e">// &#34;add&#34;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">decFactoryCS</span>.<span style="color:#a6e22e">usePlus</span>(); <span style="color:#75715e">// &#34;plus&#34;
</span><span style="color:#75715e"></span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 装饰器组合
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 一个装饰目标可同时被多个装饰器叠加装饰
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decMultiOne</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;one&#39;</span>);
}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decMultiTwo</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;two&#39;</span>);
}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decMultiOneFact() {</span>
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;one fact&#39;</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;one&#39;</span>);
  }
}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decMultiTwoFact() {</span>
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;two fact&#39;</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;two&#39;</span>);
  }
}

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;=============== Multi decorator ===============&#39;</span>);

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DecMultiCS</span> {
  <span style="color:#75715e">// 多个装饰器叠加时，会从装饰目标开始，依次向上执行，
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// 类型于执行 decMultiOne(decMultiTwo(getNum))
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decMultiOne</span>
  <span style="color:#66d9ef">@decMultiTwo</span>
  <span style="color:#a6e22e">getNum</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {}

  <span style="color:#75715e">// 装饰器也可以横向书写
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decMultiOne</span> <span style="color:#66d9ef">@decMultiTwo</span> <span style="color:#a6e22e">getNum1</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {}

  <span style="color:#66d9ef">@decMultiOne</span> <span style="color:#66d9ef">@decMultiTwo</span>
  <span style="color:#a6e22e">getNum2</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {}

  <span style="color:#75715e">// 使用装饰器工厂也能叠加，但是执行顺序是：
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// - 先自上而下执行工厂函数的逻辑
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// - 然后自下而上执行装饰器的逻辑
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decMultiOneFact</span>()
  <span style="color:#66d9ef">@decMultiTwoFact</span>()
  <span style="color:#a6e22e">getNum3</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {}
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">decMultiCS</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">DecMultiCS</span>();
<span style="color:#a6e22e">decMultiCS</span>.<span style="color:#a6e22e">getNum</span>();
<span style="color:#75715e">// &#34;two&#34;
</span><span style="color:#75715e">// &#34;one&#34;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">decMultiCS</span>.<span style="color:#a6e22e">getNum1</span>();
<span style="color:#75715e">// &#34;two&#34;
</span><span style="color:#75715e">// &#34;one&#34;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">decMultiCS</span>.<span style="color:#a6e22e">getNum2</span>();
<span style="color:#75715e">// &#34;two&#34;
</span><span style="color:#75715e">// &#34;one&#34;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">decMultiCS</span>.<span style="color:#a6e22e">getNum3</span>();
<span style="color:#75715e">// &#34;one&#34; &#34;fact&#34;
</span><span style="color:#75715e">// &#34;two&#34; &#34;fact&#34;
</span><span style="color:#75715e">// &#34;two&#34;
</span><span style="color:#75715e">// &#34;one&#34;
</span><span style="color:#75715e"></span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 多种装饰目标类型
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * 执行顺序：
</span><span style="color:#75715e"> * 1. 参数装饰器，然后依次是方法装饰器，访问符装饰器，或属性装饰器 应用到每个 实例成员。
</span><span style="color:#75715e"> * 2. 参数装饰器，然后依次是方法装饰器，访问符装饰器，或属性装饰器 应用到每个 静态成员。
</span><span style="color:#75715e"> * 3. 参数装饰器应用到构造函数。
</span><span style="color:#75715e"> * 4. 类装饰器应用到类。
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decClass() {</span>
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;class fact&#39;</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">Function</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;class&#39;</span>);
  }
}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decAttr() {</span>
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;attr fact&#39;</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;attr&#39;</span>, <span style="color:#a6e22e">key</span>);
  }
}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decMethod() {</span>
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;method fact&#39;</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;method&#39;</span>, <span style="color:#a6e22e">key</span>);
  }
}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decGetter() {</span>
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;getter fact&#39;</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;getter&#39;</span>);
  }
}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decSetter() {</span>
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;getter fact&#39;</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;getter&#39;</span>);
  }
}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decArg() {</span>
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;arg fact&#39;</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">target</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">index</span>: <span style="color:#66d9ef">unknown</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;arg&#39;</span>);
  }
}

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;=============== Multi target ===============&#39;</span>);

<span style="color:#75715e">// 类装饰器，实际是作用于类的构造函数，
</span><span style="color:#75715e">// 即装饰器的 target 入参是构造函数（并且只能定义这一个入参）
</span><span style="color:#75715e">// 如果类装饰器返回一个值，它会使用提供的构造函数来替换类的声明
</span><span style="color:#75715e"></span><span style="color:#66d9ef">@decClass</span>()
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MultiDecCS</span> {
  <span style="color:#75715e">/**
</span><span style="color:#75715e">   * 属性装饰器
</span><span style="color:#75715e">   *
</span><span style="color:#75715e">   * target: 对于静态成员来说是类的构造函数，对于实例成员是类的原型对象
</span><span style="color:#75715e">   * 属性装饰器没有第三个入参 属性描述符；
</span><span style="color:#75715e">   */</span>

  <span style="color:#75715e">// 公共属性
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decAttr</span>()
  <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">publicAttr</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

  <span style="color:#75715e">// 私有属性
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decAttr</span>()
  <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">privateAttr</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

  <span style="color:#75715e">// 受保护属性
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decAttr</span>()
  <span style="color:#66d9ef">protected</span> <span style="color:#a6e22e">protectedAttr</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

  <span style="color:#75715e">// 静态属性
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decAttr</span>()
  <span style="color:#66d9ef">static</span> <span style="color:#a6e22e">staticAttr</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;

  <span style="color:#75715e">/**
</span><span style="color:#75715e">   * 方法装饰器
</span><span style="color:#75715e">   *
</span><span style="color:#75715e">   * target: 对于静态成员来说是类的构造函数，对于实例成员是类的原型对象
</span><span style="color:#75715e">   * 如果方法装饰器返回一个值，它会被用作方法的属性描述符
</span><span style="color:#75715e">   */</span>
  <span style="color:#66d9ef">@decMethod</span>()
  <span style="color:#a6e22e">getVar</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {}

  <span style="color:#75715e">// 静态方法
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@decMethod</span>()
  <span style="color:#a6e22e">getStaticVar</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">void</span> {};

  <span style="color:#75715e">/**
</span><span style="color:#75715e">   * getter 修饰器
</span><span style="color:#75715e">   *
</span><span style="color:#75715e">   * target: 对于静态成员来说是类的构造函数，对于实例成员是类的原型对象
</span><span style="color:#75715e">   * 但不能同时向同一个属性的 getter 和 setter 设置修饰器
</span><span style="color:#75715e">   * 如果访问器装饰器返回一个值，它会被用作方法的属性描述符
</span><span style="color:#75715e">   */</span>
  <span style="color:#66d9ef">@decGetter</span>()
  <span style="color:#66d9ef">get</span> <span style="color:#66d9ef">var</span>()<span style="color:#f92672">:</span> <span style="color:#66d9ef">undefined</span> { <span style="color:#66d9ef">return</span>; }
  
  <span style="color:#75715e">/**
</span><span style="color:#75715e">   * setter 修饰器
</span><span style="color:#75715e">   */</span>
  <span style="color:#66d9ef">@decSetter</span>()
  <span style="color:#66d9ef">set</span> <span style="color:#a6e22e">var1</span>(<span style="color:#a6e22e">val</span>: <span style="color:#66d9ef">unknown</span>) {}

  <span style="color:#75715e">/**
</span><span style="color:#75715e">   * 参数装饰器
</span><span style="color:#75715e">   *
</span><span style="color:#75715e">   * target: 对于静态成员来说是类的构造函数，对于实例成员是类的原型对象
</span><span style="color:#75715e">   * 入参第三个是当前参数在入参数组中的索引
</span><span style="color:#75715e">   */</span>
  <span style="color:#a6e22e">getArg</span>&lt;<span style="color:#f92672">T</span>&gt;(<span style="color:#66d9ef">@decArg</span>() <span style="color:#a6e22e">arg</span>: <span style="color:#66d9ef">T</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span> { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">arg</span>; }
}

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">multiDecCS</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">MultiDecCS</span>();

</code></pre></div>
              


            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">标签</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://caiqing123.github.io/tags/typescript/">typescript</a>

                  </div>
                
              
            
            
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://caiqing123.github.io/post/typescript2/" data-tooltip="typescript 笔记2" aria-label="下一篇: typescript 笔记2">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">下一篇</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://caiqing123.github.io/post/react/" data-tooltip="react 笔记" aria-label="上一篇: react 笔记">
          
              <span class="hide-xs hide-sm text-small icon-mr">上一篇</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="分享这个帖子">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://caiqing123.github.io/post/typescript/" title="分享到 Facebook" aria-label="分享到 Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://caiqing123.github.io/post/typescript/" title="分享到 Twitter" aria-label="分享到 Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https://caiqing123.github.io/post/typescript/" title="分享到 Linkedin" aria-label="分享到 Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#disqus_thread" aria-label="发表评论">
        <i class="far fa-comment"></i>
      </a>
    </li>
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="回到顶部">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


            
  
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
    <script type="text/javascript">
      var disqus_config = function() {
        this.page.url = 'https:\/\/caiqing123.github.io\/post\/typescript\/';
        
          this.page.identifier = '\/post\/typescript\/'
        
      };
      (function() {
        
        
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
          document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
          return;
        }
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = 'https-caiqing123-github-io';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  


          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2022 cql. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://caiqing123.github.io/post/typescript2/" data-tooltip="typescript 笔记2" aria-label="下一篇: typescript 笔记2">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">下一篇</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://caiqing123.github.io/post/react/" data-tooltip="react 笔记" aria-label="上一篇: react 笔记">
          
              <span class="hide-xs hide-sm text-small icon-mr">上一篇</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="分享这个帖子">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://caiqing123.github.io/post/typescript/" title="分享到 Facebook" aria-label="分享到 Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://caiqing123.github.io/post/typescript/" title="分享到 Twitter" aria-label="分享到 Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https://caiqing123.github.io/post/typescript/" title="分享到 Linkedin" aria-label="分享到 Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#disqus_thread" aria-label="发表评论">
        <i class="far fa-comment"></i>
      </a>
    </li>
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="回到顶部">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


      </div>
      
<div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-times"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcaiqing123.github.io%2Fpost%2Ftypescript%2F" aria-label="分享到 Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i><span>分享到 Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fcaiqing123.github.io%2Fpost%2Ftypescript%2F" aria-label="分享到 Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fcaiqing123.github.io%2Fpost%2Ftypescript%2F" aria-label="分享到 Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i><span>分享到 Linkedin</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>


    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.gravatar.com/avatar/8326f93f7f0189da62a749745793e60a?s=110" alt="作者的图片" />
    
    <h4 id="about-card-name">cql</h4>
    
      <div id="about-card-bio">cql 博客</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        job
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        中国
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://caiqing123.github.io/images/cover.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="https://caiqing123.github.io/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>


  
    <script async crossorigin="anonymous" defer integrity="sha512-gE8KAQyFIzV1C9+GZ8TKJHZS2s+n7EjNtC+IMRn1l5+WYJTHOODUM6JSjZhFhqXmc7bG8Av6XXpckA4tYhflnw==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/apache.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-EWROca+bote+7Oaaar1F6y74iZj1r1F9rm/ly7o+/FwJopbBaWtsFDmaKoZDd3QiGU2pGacBirHJNivmGLYrow==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/go.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-GDVzAn0wpx1yVtQsRWmFc6PhJiLBPdUic+h4GWgljBh904O3JU10fk9EKNpVyIoPqkFn54rgL2QBG4BmUTMpiQ==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/http.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-UgZlma8NzkrDb/NWgmLIcTrH7i/CSnLLDRFqCSNF5NGPpjKmzyM25qcoXGOup8+cDakKyaiTDd7N4dyH4YT+IA==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/less.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-lot9koe73sfXIrUvIPM/UEhuMciN56RPyBdOyZgfO53P2lkWyyXN7J+njcxIIBRV+nVDQeiWtiXg+bLAJZDTfg==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/nginx.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-Zd3e7XxHP00TD0Imr0PIfeM0fl0v95kMWuhyAS3Wn1UTSXTkz0OhtRgBAr4JlmADRgiXr4x7lpeUdqaGN8xIog==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/puppet.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-qtqDO052iXMSP+5d/aE/jMtL9vIIGvONgTJziC2K/ZIB1yEGa55WVxGE9/08rSQ62EoDifS9SWVGZ7ihSLhzMA==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/scss.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-1NmkjnEDnwwwcu28KoQF8vs3oaPFokQHbmbtwGhFfeDsQZtVFI8zW2aE9O8yMYdpdyKV/5blE4pSWw4Z/Sv97w==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/stylus.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-B2wSfruPjr8EJL6IIzQr1eAuDwrsfIfccNf/LCEdxELCgC/S/ZMt/Uvk80aD79m7IqOqW+Sw8nbkvha20yZpzg==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/swift.min.js"></script>
  

  
    <script async crossorigin="anonymous" defer integrity="sha512-28oDiQZGKUVN6wQ7PSLPNipOcmkCALXKwOi7bnkyFf8QiMZQxG9EQoy/iiNx6Zxj2cG2SbVa4dXKigQhu7GiFw==" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/yaml.min.js"></script>
  


<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>




    
  </body>
</html>

